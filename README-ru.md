| [en](README.md) | RU |
|----------|----------|

# is-kramdown-hooked

Расширяемый парсер Kramdown с внутренними хуками для улучшенной обработки Markdown в Jekyll

## О проекте

is-kramdown-hooked — это гибкий Ruby гем, который расширяет стандартный парсер Markdown Kramdown, добавляя возможность настраиваемых хуков, выполняемых после парсинга. Эти хуки позволяют разработчикам внедрять собственную логику обработки Abstract Syntax Tree (AST) после стандартного анализа документа, что открывает новые возможности для трансформации Markdown и удобной интеграции в сайты на Jekyll и другие Ruby-проекты с использованием Kramdown.

## Возможности

- Наследуется от стандартного парсера Kramdown с добавлением возможности регистрации нескольких хуков, вызываемых после парсинга.
- Хуки получают объект парсера, что позволяет исследовать и изменять AST.
- Удобная точка расширения для кастомных преобразований Markdown.
- Легковесный, прост в интеграции как плагин Jekyll или самостоятельный гем.
- Тесты написаны с использованием RSpec, покрытие кода контролируется SimpleCov.
- Совместим с Ruby версии ~> 3.4 и Kramdown версии ~> 2.5+.

## Установка

Добавьте в ваш Gemfile Jekyll-сайта или другого Ruby-проекта:

```ruby
gem 'is-kramdown-hooked', '~> 0.8.0'
```

Затем выполните:

```shell
bundle install
```

## Использование

Зарегистрируйте хук после парсинга в вашем Ruby-коде:

```ruby
Kramdown::Parser::ISKram.register_post_parse_hook do |parser|
  # Ваша кастомная логика обработки AST
  # Например, модификация parser.root
end

# Используйте кастомный парсер для разбора Markdown
doc = Kramdown::Document.new(markdown_source, input: 'ISKram')
```

Ваш хук будет выполняться после базового парсинга Markdown, что позволит изменять структуру документа по своему желанию.

## Разработка

### Требования

- Ruby версии ~> 3.4
- Bundler
- Kramdown ~> 2.5

### Запуск тестов

Для запуска тестов клонируйте репозиторий и запустите:

```shell
bundle exec rake
```

Покрытие кода отображается с помощью SimpleCov.

### Вклад

Приглашаются все желающие к развитию проекта. Пожалуйста, форкните репозиторий, вносите изменения и отправляйте pull request с подробными описаниями. Убедитесь, что все тесты проходят успешно.

## Лицензия

Проект распространяется по лицензии GPL-3.0-or-later.

## Ссылки

- Домашняя страница: https://github.com/jekyll-is/is-kramdown-hooked
